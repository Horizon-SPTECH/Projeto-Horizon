<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visão Individual - Horizon</title>
    <link rel="shortcut icon" href="assets/group11.png" type="image/x-icon">
    <link rel="stylesheet" href="css/dashboard-indiv.css">
    <link rel="stylesheet" href="dashboard.html">
    <script src="js/block-screan.js"></script>
</head>
<body onload="acessar()">
    <div class="background">

        <div class="container">

            <div class="container-barra-lateral">
                <div class="cbl-logo">
                    <img src="assets/group11.png" alt="">
                </div>

                <div class="cbl-botoes">

                    <div class="cbl-botoes-barralateral">
                        <a href="dashboard.html" class="bl-botao" id="bl-botao">
                            <div class="bl-botao-filho">
                                <img src="assets/casa.png" alt="">
                                <span>Dashboard</span>
                            </div>
                        </a>
                        <a href="dashboard-indiv.html" class="bl-botao" id="bl-botao-inicio">
                            <div class="bl-botao-filho">
                                <img src="assets/detalhe1.png" alt="">
                                <span>Detalhes</span>
                            </div>
                        </a>

                        <a href="alterar-senha.html" class="bl-botao">
                            <div class="bl-botao-filho">
                                <img src="assets/cadeado.png" alt="">
                                <span>Alterar senha</span>
                            </div>
                        </a>

                        <a id="btn-novo-user" href="cadastro-funcionario.html" class="bl-botao">
                            <div class="bl-botao-filho">
                                <img src="assets/add.png" alt="">
                                <span>Novo usuário</span>
                            </div>
                        </a>
                        
                    </div>

                    <a onclick="limparSession()" href="index.html" class="bl-botao">
                        <div class="bl-botao-filho">
                            <img src="assets/porta.png" alt="">
                            <span>Sair</span>
                        </div>
                    </a>

                </div>

            </div>

            <div class="container-graficos-kpis">

                <div class="cgk-navbar">
                    <span>Visão única - Serra</span>
                </div>

                <div class="cgk-mapa-kpi">

                    <div class="cgk-mapa">
                        <div class="cgk-grafico-titulo">
                            <span>Horários com mais furtos</span>
                        </div>

                        <div class="cgk-mapa-grafico">
                            <canvas id="grafico_periodo" style="height: 90%; width: 90%;"></canvas>
                        </div>
                    </div>

                    <div class="cgk-kpi">
                        <div class="cgk-kpi-furtosHab" id="cgk-kpi-id">
                            <div class="cgk-kpi-furtosHab-img">
                                <img src="assets/kpi-pessoas.png" alt="">
                            </div>

                            <div class="cgk-kpi-furtosHab-kpi">
                                <h3 style="font-size: 15px;">Furtos no município</h3>
                                <span>300</span>
                            </div>
                        </div>

                        <div class="cgk-kpi-obj" id="cgk-kpi-id">
                            <div class="cgk-kpi-obj-titulo">
                                <span>Objetos mais furtados</span>
                            </div>
                            
                            <div class="cgk-kpi-obj-imgs">
                                <div class="cgk-kpi-obj-ordem">
                                    <img src="assets/moto.png" alt="">
                                    <h1>1° - 682</h1>
                                    <span>Moto</span>
                                </div>

                                <div class="cgk-kpi-obj-ordem">
                                    <img src="assets/celular.png" alt="">
                                    <h1>2° - 435</h1>
                                    <span>Celular</span>
                                </div>

                                <div class="cgk-kpi-obj-ordem">
                                    <img src="assets/carro.png" alt="">
                                    <h1>3° - 123</h1>
                                    <span>Carro</span>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="cgk-graficos-kpi">
                    
                    <div class="cgk-grafico-meses">
                        <div class="cgk-grafico-titulo">
                            <span>Meses com mais furtos</span>
                        </div>

                        <div class="cgk-grafico-meses-chart">
                            <canvas id="grafico_meses" style="height: 90%; width: 90%;"></canvas>
                        </div>
                    </div>

                    <div class="cgk-grafico-IA">
                        <div class="cgk-grafico-IA-texto">
                            <div class="cgk-grafico-IA-titulo">
                                <h1>Percentual de furtos comparado ao mês anterior</h1>
                            </div>

                            <div class="cgk-grafico-IA-img">
                                <div class="cgk-grafico-IA-percentual">
                                    <img src="assets/seta_2.png" alt="">
                                    <h1>15%</h1>
                                    <p>Agosto</p>
                                </div>

                                <div class="cgk-grafico-IA-percentual">
                                    <img src="assets/seta_2.png" alt="">
                                    <h1>12%</h1>
                                    <p>Setembro</p>
                                </div>

                                <div class="cgk-grafico-IA-percentual">
                                    <img src="assets/seta_2.png" alt="">
                                    <h1>8%</h1>
                                    <p>Outubro</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>

            </div>

        </div>

    </div>
</body>
</html>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>

    let Idtipo = sessionStorage.getItem("ID_TIPO");
    let btnEmpresa = document.querySelector("#btn-empresa");
    let btnAddUser = document.querySelector("#btn-novo-user");


    if(Idtipo == 1){
        btnEmpresa.style.display = "none";
        btnAddUser.style.display = "none";
    }

    const grafico_periodo = document.getElementById('grafico_periodo');

    Chart.defaults.color = '#23005B';
    //Chart.defaults.borderColor = 'white';

    new Chart(grafico_periodo, {
    type: 'bar',
    data: {
        labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun'],
        datasets: [{
            label: 'Periodo',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: '#5321CA',
            borderRadius: 17
        }]
    },
    options: {
        responsive: false,
        maintainAspectRatio: false,
        scales: {
        y: {
          beginAtZero: true,
          ticks: {
            color: '#979699'
          },
          grid: {
            display: true,
            color: 'rgba(128, 128, 128, 0.2)'
          }
        },
        x: {
            ticks: {
            color: '#979699'
          },
          grid: {
            display: false
          }
        }
    },
    plugins: {
        legend: {
          display: false
        }
      },
    barPercentage: 0.4
    }});

    const grafico_meses = document.getElementById('grafico_meses');

    new Chart(grafico_meses, {
    type: 'bar',
    data: {
        labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun'],
        datasets: [{
            label: 'Meses',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: '#5321CA',
            borderRadius: 17
        }]
    },
    options: {
        responsive: false,
        maintainAspectRatio: false,
        scales: {
        y: {
          beginAtZero: true,
          ticks: {
            color: '#979699'
          },
          grid: {
            display: true,
            color: 'rgba(128, 128, 128, 0.2)'
          }
        },
        x: {
            ticks: {
            color: '#979699'
          },
          grid: {
            display: false
          }
        }
    },
    plugins: {
        legend: {
          display: false
        }
      },
    barPercentage: 0.4
    }});
</script>